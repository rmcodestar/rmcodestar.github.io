---
layout: post
title: STOMP
category: websocket
tag: [websocket, stomp]
---

# STOMP

* stomp is simple text-oriented messating protocol
* frame based protocol
* command
  * connect
  * send
  * subscribe
  * disconnect




## command

* command
* Header
* Body

```
COMMAND
header1:value1
hedaer2:value2

Body^@
```





## Client frames

### SEND

```
SEND
destination:/queue/trade
content-type:application/json
content-length:44

{"action" : "BUY"}
```





### SUBSCRIBE

SUBSCRIBE format(client)

```
SUBSCRIBE
id:sub-1
destination:/topic/price.stock.*

^@
```



### ETC

* UNSUBSCRIBE
* ACK / NACK





## Server frames

### MESSAGE

MESSAGE format(Server) - broadcast messages to all subscribers

```
MESSAGE
message-id:nxsdfasdf
subscription:sub-1
destination:/topic/price.stock.MMM

{"ticker":"MMMM"}
```



### ETC

* RECEIPT
* ERROR
